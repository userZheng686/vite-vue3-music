折腾了一个下午，大概搞明白怎么做安装包了。

1. 先去下载[NSIS包](https://github.com/zhaobangyu/NSIS/tree/NsisPackage)，了解打包配置和其说明

2. 去修改AppCode对应文件夹下面的xxx_setup.nsi文件，按照你的需求来（其实大部分就是换个名字）

3. 之后把electron打包的win-unpacked文件夹里面的内容复制到AppFile文件夹里对应的文件夹下

4. 将AppCode对应的文件夹里面的app.nsh内容更换，代码在这里

   ```
   Push 75  
   Push 1  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\chrome_100_percent.pak"  
   Push 75  
   Push 2  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\chrome_200_percent.pak"  
   Push 75  
   Push 3  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\d3dcompiler_47.dll"  
   Push 75  
   Push 4  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\ffmpeg.dll"  
   Push 75  
   Push 5  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\icudtl.dat"  
   Push 75  
   Push 6  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\libEGL.dll"  
   Push 75  
   Push 7  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\libGLESv2.dll"  
   Push 75  
   Push 8  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\LICENSE.electron.txt"  
   Push 75  
   Push 9  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\LICENSES.chromium.html"  
   Push 75  
   Push 10  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\neteasecloudmusic.exe"  
   Push 75  
   Push 11  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\resources.pak"  
   Push 75  
   Push 12  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\snapshot_blob.bin"  
   Push 75  
   Push 13  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\v8_context_snapshot.bin"  
   Push 75  
   Push 14  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\vk_swiftshader.dll"  
   Push 75  
   Push 15  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\vk_swiftshader_icd.json"  
   Push 75  
   Push 16  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\vulkan-1.dll"  
   SetOutPath "$INSTDIR\locales" 
   Push 75  
   Push 17  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\af.pak"  
   Push 75  
   Push 18  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\am.pak"  
   Push 75  
   Push 19  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ar.pak"  
   Push 75  
   Push 20  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\bg.pak"  
   Push 75  
   Push 21  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\bn.pak"  
   Push 75  
   Push 22  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ca.pak"  
   Push 75  
   Push 23  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\cs.pak"  
   Push 75  
   Push 24  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\da.pak"  
   Push 75  
   Push 25  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\de.pak"  
   Push 75  
   Push 26  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\el.pak"  
   Push 75  
   Push 27  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\en-GB.pak"  
   Push 75  
   Push 28  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\en-US.pak"  
   Push 75  
   Push 29  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\es-419.pak"  
   Push 75  
   Push 30  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\es.pak"  
   Push 75  
   Push 31  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\et.pak"  
   Push 75  
   Push 32  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\fa.pak"  
   Push 75  
   Push 33  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\fi.pak"  
   Push 75  
   Push 34  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\fil.pak"  
   Push 75  
   Push 35  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\fr.pak"  
   Push 75  
   Push 36  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\gu.pak"  
   Push 75  
   Push 37  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\he.pak"  
   Push 75  
   Push 38  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\hi.pak"  
   Push 75  
   Push 39  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\hr.pak"  
   Push 75  
   Push 40  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\hu.pak"  
   Push 75  
   Push 41  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\id.pak"  
   Push 75  
   Push 42  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\it.pak"  
   Push 75  
   Push 43  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ja.pak"  
   Push 75  
   Push 44  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\kn.pak"  
   Push 75  
   Push 45  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ko.pak"  
   Push 75  
   Push 46  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\lt.pak"  
   Push 75  
   Push 47  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\lv.pak"  
   Push 75  
   Push 48  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ml.pak"  
   Push 75  
   Push 49  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\mr.pak"  
   Push 75  
   Push 50  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ms.pak"  
   Push 75  
   Push 51  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\nb.pak"  
   Push 75  
   Push 52  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\nl.pak"  
   Push 75  
   Push 53  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\pl.pak"  
   Push 75  
   Push 54  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\pt-BR.pak"  
   Push 75  
   Push 55  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\pt-PT.pak"  
   Push 75  
   Push 56  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ro.pak"  
   Push 75  
   Push 57  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ru.pak"  
   Push 75  
   Push 58  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\sk.pak"  
   Push 75  
   Push 59  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\sl.pak"  
   Push 75  
   Push 60  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\sr.pak"  
   Push 75  
   Push 61  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\sv.pak"  
   Push 75  
   Push 62  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\sw.pak"  
   Push 75  
   Push 63  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ta.pak"  
   Push 75  
   Push 64  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\te.pak"  
   Push 75  
   Push 65  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\th.pak"  
   Push 75  
   Push 66  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\tr.pak"  
   Push 75  
   Push 67  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\uk.pak"  
   Push 75  
   Push 68  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\ur.pak"  
   Push 75  
   Push 69  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\vi.pak"  
   Push 75  
   Push 70  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\zh-CN.pak"  
   Push 75  
   Push 71  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\locales\zh-TW.pak"  
   SetOutPath "$INSTDIR\resources" 
   Push 75  
   Push 72  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\resources\app-update.yml"  
   Push 75  
   Push 73  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\resources\app.asar"  
   Push 75  
   Push 74  
   Call ExtractCallback 
   File "E:\nsis\Niuniu_NSIS_SetupSkin\FilesToInstall\resources\elevate.exe"  
   Push 75  
   Push 75  
   Call ExtractCallback 
   ```

   需要手动把前面地址改成你项目的存放位置

5. 之后点击build-xxx-nozip.bat（对应你的项目）,之后会在Output文件夹下面生成对应的安装包（没有Output文件夹需要新建，位置对应最外层）

6. ![安装界面](https://github.com/userZheng686/vite-vue3-music/blob/electron/docs/image/安装界面.png?raw=true)

安装界面如上